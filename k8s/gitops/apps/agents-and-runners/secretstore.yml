apiVersion: external-secrets.io/v1
kind: ClusterSecretStore
metadata:
  name: azure-kv-homelab
  annotations:
    argocd.argoproj.io/sync-wave: '-2'
spec:
  provider:
    azurekv:
      vaultUrl: https://kv-homelab-uks.vault.azure.net
      tenantId: 'a97d5792-e295-4539-9bf2-7260e2a90ad4'
      authType: ServicePrincipal
      auth:
        secretRef:
          clientId:
            name: azure-kv-creds
            key: client-id
            namespace: external-secrets
          clientSecret:
            name: azure-kv-creds
            key: client-secret
            namespace: external-secrets
